# æ•°æ®åº“è¿ç§»å®Œæˆæƒ…å†µ

## âœ… å·²å®Œæˆè¿ç§»çš„åŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½
- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- âœ… TokenéªŒè¯
- âœ… ç”¨æˆ·èµ„æ–™ç®¡ç†
- âœ… å¯†ç ä¿®æ”¹
- âœ… å¥èº«è®¡åˆ’ç®¡ç†

### æ•°æ®åº“é€‚é…å±‚
- âœ… `db_adapter.py` - å®Œæ•´çš„æ•°æ®åº“é€‚é…å±‚
- âœ… æ‰€æœ‰CRUDæ“ä½œå·²è¿ç§»åˆ°æ•°æ®åº“

## ğŸ“ ä½¿ç”¨è¯´æ˜

### 1. é¦–æ¬¡è®¾ç½®

```bash
# 1. åˆ›å»ºPostgreSQLæ•°æ®åº“
createdb -U postgres fitnessai

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. åˆå§‹åŒ–æ•°æ®åº“
python init_database.py
```

### 2. é…ç½®æ•°æ®åº“è¿æ¥

åœ¨ `backend/.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼š

```env
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/fitnessai
```

### 3. æ•°æ®è¿ç§»

`init_database.py` ä¼šè‡ªåŠ¨ï¼š
- åˆ›å»ºæ‰€æœ‰æ•°æ®åº“è¡¨
- ä»JSONæ–‡ä»¶è¿ç§»ç°æœ‰æ•°æ®ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
- ä¿æŒæ•°æ®å®Œæ•´æ€§

## ğŸ”„ ä»JSONè¿ç§»åˆ°PostgreSQL

è¿ç§»è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†ï¼š
- âœ… ç”¨æˆ·æ•°æ®
- âœ… Tokenæ•°æ®
- âœ… å¥èº«è®¡åˆ’
- âœ… è¿åŠ¨ä¼šè¯
- âœ… æˆå°±æ•°æ®
- âœ… æ‰“å¡è®°å½•
- âœ… æŒ‘æˆ˜å®Œæˆè®°å½•

## ğŸ“Š æ•°æ®åº“ç»“æ„

### ä¸»è¦è¡¨
- `users` - ç”¨æˆ·è¡¨
- `user_profiles` - ç”¨æˆ·èµ„æ–™è¡¨
- `tokens` - Tokenè¡¨
- `plans` - å¥èº«è®¡åˆ’è¡¨
- `sessions` - è¿åŠ¨ä¼šè¯è¡¨
- `user_achievements` - ç”¨æˆ·æˆå°±è¡¨
- `checkins` - æ‰“å¡è®°å½•è¡¨
- `challenge_completions` - æŒ‘æˆ˜å®Œæˆè¡¨

## ğŸš€ éƒ¨ç½²åˆ°æœåŠ¡å™¨

### æ­¥éª¤

1. **åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…PostgreSQL**
   ```bash
   sudo apt-get install postgresql postgresql-contrib
   ```

2. **åˆ›å»ºæ•°æ®åº“**
   ```bash
   sudo -u postgres createdb fitnessai
   ```

3. **é…ç½®è¿æ¥å­—ç¬¦ä¸²**
   ```env
   DATABASE_URL=postgresql://username:password@server_ip:5432/fitnessai
   ```

4. **è¿ç§»æ•°æ®**
   ```bash
   # ä»æœ¬åœ°å¯¼å‡º
   pg_dump -U postgres fitnessai > backup.sql
   
   # åœ¨æœåŠ¡å™¨ä¸Šå¯¼å…¥
   psql -U username -d fitnessai < backup.sql
   ```

5. **åˆå§‹åŒ–æ•°æ®åº“**
   ```bash
   python init_database.py
   ```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- `setup_postgresql.md` - PostgreSQLè¯¦ç»†è®¾ç½®æŒ‡å—
- `QUICK_START.md` - 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹æŒ‡å—
- `database.py` - æ•°æ®åº“æ¨¡å‹å®šä¹‰
- `db_adapter.py` - æ•°æ®åº“é€‚é…å±‚

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¤‡ä»½æ•°æ®**: è¿ç§»å‰è¯·å¤‡ä»½JSONæ–‡ä»¶
2. **æµ‹è¯•è¿æ¥**: ç¡®ä¿PostgreSQLæœåŠ¡æ­£åœ¨è¿è¡Œ
3. **æƒé™è®¾ç½®**: ç¡®ä¿æ•°æ®åº“ç”¨æˆ·æœ‰è¶³å¤Ÿæƒé™
4. **ç¯å¢ƒå˜é‡**: æ­£ç¡®é…ç½®DATABASE_URL

## ğŸ‰ ä¼˜åŠ¿

ä½¿ç”¨PostgreSQLåï¼š
- âœ… æ›´å¥½çš„æ€§èƒ½
- âœ… æ•°æ®å®Œæ•´æ€§ä¿è¯
- âœ… æ”¯æŒå¤æ‚æŸ¥è¯¢
- âœ… æ˜“äºå¤‡ä»½å’Œæ¢å¤
- âœ… æ”¯æŒå¹¶å‘è®¿é—®
- âœ… æ˜“äºæ‰©å±•

